#!/usr/bin/env python
import os.path, sys
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), "..")))

import argparse

from opensfm import dataset
from opensfm import video


if __name__ == "__main__":
    parser = argparse.ArgumentParser(description='Create tracks and key images from a video.')
    parser.add_argument('dataset',
                        help='path to the dataset to output the results')
    parser.add_argument('--video', help='path to the video file')
    parser.add_argument('--visual', action='store_true',
        help='plot video while tracking')
    args = parser.parse_args()

    data = dataset.DataSet(args.dataset)
    video.track_video(data, args.video, visual=args.visual)





